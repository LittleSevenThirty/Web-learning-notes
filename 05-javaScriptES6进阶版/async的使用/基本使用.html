<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // async的基本使用
        // 1. 函数声明
        async function foo() { };

        // 2. 函数表达式
        const foo2 = async function () { };

        // 3. 对象的方法
        let obj = { async foo() { } };
        obj.foo().then();

        // 4. Class的方法
        class Storage {
            constructor() {
                this.cachePromise = caches.open('avatars');
            }

            async getAvatar(name) {
                const cache = await this.cachePromise;
                return cache.match(`/avatars/${name}.jpg`);
            }
        }

        const storage = new Storage();
        storage.getAvatar('jake').then();

        // 5. 箭头函数
        const foo3 = async () => { };
    </script>
</body>

</html>